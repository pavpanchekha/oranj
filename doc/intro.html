<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>oranj - A pythonic dynamic programming language</title>
    <script type="text/javascript" src="resources/libraries/jquery.js"></script>
    <script type="text/javascript" src="resources/scripts/main.js"></script>
    <script type="text/javascript" src="resources/libraries/toc.js"></script>
    <script type="text/javascript" src="resources/libraries/shjs.js"></script>
    <script type="text/javascript" src="resources/libraries/lang/sh_oranj.js"></script>
    <script type="text/javascript" src="resources/libraries/lang/sh_cpp.js"></script>
    <script type="text/javascript" src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <link type="text/css" rel="stylesheet" href="resources/styles/tripoli.simple.css" />
    <!--[if IE]><link rel="stylesheet" type="text/css" href="resources/styles/tripolit.simple.ie.css"><![endif]-->
    <link type="text/css" rel="stylesheet" href="resources/styles/main.css" />
    <link type="text/css" rel="stylesheet" href="resources/libraries/css/sh_mine.css" />
  </head>
  <body onload="sh_highlightDocument();">
    <div id="floating-header" class="content">
      <h1>oranj - A pythonic, dynamic programming language</h1>
      <h2>A brief introduction</h2>
      <hr />
    </div>  
    <div class="content main">
      <section>
        <h2>Abstract</h2>
        <p>All right, so you want to learn oranj. Fine. Just remember
        that oranj is not yet done, and so you may at times run into
        bugs and errors. Don't worry, they&#8217;ll go away soon. In
        fact, they&#8217;ll go away even sooner if you <a
        href="http://github.com/pavpanchekha/oranj/issues">report
        bugs</a>. But that&#8217;s already getting off track.</p> <p>Why
        learn oranj? Well, it&#8217;s certainly fun. Was a good enough
        reason for me to write it. Don&#8217;t like it? Well, think of
        your own reason, there are plenty out there.</p>
        <p>This brief introduction is intended for programmers. If this
        is your first language, feel free to read through, but you might
        be a bit confused.</p>
        <p>To install oranj, you&#8217;ll want to head over to the <a
        href="install.html">installation page</a>.</p>
      </section>

      <section>
        <h2>Beginning</h2>
        <h3>Input, output</h3>
        <pre class="sh_oranj">io &lt;&lt; "Hello, World" &lt;&lt; endl</pre>
        <p>The standard prayer to the programming gods thus completed, we
        can move on to other ways of doing input and output</p>
        <pre class="sh_oranj">output("I can say hello, too")</pre>
        <p>Note that you don&#8217;t need a newline at the end. What about input?</p>
        <pre class="sh_oranj">name = input("What is your name? ")</pre>
        <p>With just a prompt, input will return a string, which you store in name. Now, if you wanted an integer, you might...</p>
        <pre class="sh_oranj">name = io &lt;&lt; "What is your age? " &gt;&gt; int</pre>
        <p>A second argument to input would to the trick too:</p>
        <pre class="sh_oranj">name = input("What is your age? ", int)</pre>
        <p>In general, <code>input</code> and <code>output</code> (as
        well as their sister function <code>error</code>, which prints
        to what C types would call &#8220;stderr&#8221;) give you more
        options, while using <code>io</code> is easier to type and makes
        C++ programmers happy.</p>
        <p>While we&#8217;re on the topic, let&#8217;s cover files:</p>
        <pre class="sh_oranj">f = file("test", "w")
f.write("Test data")</pre>
        <p>The <code>"w"</code> make the file be opened for writing as
        opposed to the default, reading (you can also do <code>"a"</code>
        to append. Of course, that&#8217;s a rather silly way of doing
        things. There are better ones</p>
        <pre class="sh_oranj">f = file("test", "w")
io.bind(f)
io &lt;&lt; "Hello from io" &lt;&lt; endl</pre>
        <p><code>io</code> has this useful function called
        <code>bind</code>, which will make <code>io</code> (and
        <code>output</code>, and <code>input</code>, and
        <code>error</code>) use the variable passed for input and
        output. For example, if you&#8217;re using oranj to serve web pages,
        <code>io</code> wouldn&#8217;t be the terminal (or your server&#8217;s
        log), but instead the HTTP stream (actually, <code>error</code> would
        probably be your server&#8217;s log file).</p>
      
        <h3>Math</h3>
        <pre class="sh_oranj">io &lt;&lt; 1+2*3/4^5 + 12 000 &lt;&lt; endl # Prints 12001.005859</pre>
        <p>Addition, multiplication, division, exponentiation, and all of
        their friends work exactly as expected. Note that you can put
        spaces into a number for added readability. Also note that
        division is floating-point if necessary. Actually, on the subject
        of floating-point...</p>
        <pre class="sh_oranj">io &lt;&lt; 1/3 &lt;&lt; endl # Gives 0.333333
io &lt;&lt; (1/3) * 3 &lt;&lt; endl # Gives 1</pre>
        <p>Floating points will also upconvert (if within 28 decimal
        points of precision. At times, this isn&#8217;t enough precision, but
        it&#8217;s usually far more than needed.</p>
        <pre class="sh_oranj">io &lt;&lt; 17 mod 4 &lt;&lt; endl # Gives 1
io &lt;&lt; 5|15 &lt;&lt; endl # Gives True</pre>
        <p><code>mod</code> is used for modular arithmetic, <code>|</code>
        is used for divisibility-testing (above, it&#8217;s asking if 5 divides
        15 evenly).</p>
        <pre class="sh_oranj">io &lt;&lt; inf + 1 &lt;&lt; endl # inf</pre>
        <p>Yes, infinity plus one is infinity</p>
        
        <h3>Loops and Such</h3>
        <pre class="sh_oranj">if inf &lt; 0 {io &lt;&lt; "Uh oh!" &lt;&lt; endl}</pre>
        <p><code>if</code> statements and such don&#8217;t require
        parentheses. In exchange, the braces are required, even if its a
        one-liner. The same holds for <code>while</code> and
        <code>for</code> statements</p>
        <pre class="sh_oranj">if a == b {
    io &lt;&lt; "Equal"
} elif a &gt; b {
    io &lt;&lt; "Greater"
} else {
    io &lt;&lt; "Smaller"
}
io &lt;&lt; endl</pre>
        <p><code>elif</code> and <code>else</code> work as you might
        expect. <code>elif</code> is short for &#8220;else if&#8221; and
        basically acts as a second <code>if</code> statement that only
        runs if the first didn&#8217;t. <code>else</code> is basically what
        happens when nothing else does.</p>
        <pre class="sh_oranj">a, b = 0, 1
while a &lt; 1000 {
    a, b = b, a+b
    io &lt;&lt; a &lt;&lt; endl
}</pre>
        <p>The fibonacci numbers always seem the first example of while
        statements... I wonder why. In any case, <code>while</code> loops
        are very similar to C <code>while</code> loops, only you don&#8217;t
        need the parentheses. Oh, and you can&#8217;t do one-liners.</p>
        <pre class="sh_cpp">while (a &lt; 10) a++; // Doesn&#8217;t work in oranj</pre>
        <p>But hey, its often bad programming style, might annoy you later
        on when you actually do need to add braces, and saves you two key
        presses (the parentheses) most of the time.</p>
        <pre class="sh_oranj">for a in range(10) {
    io &lt;&lt; a^2 &lt;&lt; " "
}
io &lt;&lt; endl</pre>
        <p><code>for</code> loops work much like they do in Python: they
        iterate over a list. In this case, the list is
        <code>range(10)</code>, which returns <code>[0, 1, 2, 3, 4, 5, 6,
        7, 8, 9]</code> (note that 0 is in the range, but 10 is not). You
        can use any other list instead:</p>
        <pre class="sh_oranj">for a in [2, 3, 5, 7, 11] {
    io &lt;&lt; "Prime! "
}
io &lt;&lt; endl</pre>
        <p>In fact, there&#8217;s a
        shortcut if you just want to loop a set number of times:</p>
        <pre class="sh_oranj">for i in 20 {io &lt;&lt; i^2 &lt;&lt; endl}</pre>
        <p>This works because any integer can work as a list, returning
        the same values as would a <code>range()</code> of itself.</p>
      </section>

      <section>
        <h2>Functions</h2>
        <h3>Basic Functions</h3>
        <pre class="sh_oranj">hi = fn{io &lt;&lt; "Hello, World!" &lt;&lt; endl}
hi()</pre>
        <p>The simplest functions take nothing and give nothing. If you
        want to pass arguments...</p>
        <pre class="sh_oranj">square = fn(x) {return x^2}</pre>
        <p> This function takes one argument (<code>x</code>) and returns
        its square. Now, there are two ways of calling this function</p>
        <pre class="sh_oranj">square(4) == 4 ! square</pre>
        <p>The difference is that the first focuses on the value
        <code>4</code>, whereas the other on the operation,
        <code>square</code>. Its sort of like the distinction between
        passive and active voice. While &#8220;The firemen saved the
        boy&#8221; and &#8220;The boy was saved by the firemen&#8221; mean
        the same thing, you would use them in very different
        circumstances. Now, what if you want multiple arguments?</p>
        <pre class="sh_oranj">sub = fn "Subtract two numbers" (x, y=1) {
    return x - y
}</pre>
        <p> Note that the argument <code>y</code> has a default value,
        <code>2</code>, and that the function has a docstring, which is a
        short description of what the function does. The key word here is
        &#8220;short&#8221;: you shouldn&#8217;t describe each argument or
        the output format; that should go in the documentation. Instead,
        you should just specify the action so that someone reading your
        code knows what the function does.</p>
        <pre class="sh_oranj">io &lt;&lt; (2 ! sub(4)) &lt;&lt; endl # Output: -2</pre>
        <p>In this case, the <strong>second</strong> argument is
        <code>4</code>, not the first. When using the alternative
        function call syntax, the argument before the exclamation mark
        is always the first argument. (What if you want it to be second?
        Then you probably don't want to use the alternative syntax.)</p>
        <h3>Functions Making Functions</h3>
        <pre class="sh_oranj">adder = fn(x) {
    return fn(y) {return x + y}
}</pre>
        <p>The function <code>adder</code> returns a function. That's
        right, it&#8217;s a function that returns a function. In this
        case, the function it returns has some values &#8220;bound&#8221;:
        the variable <code>x</code> is constant between runs of the
        function. How would you use this function-of-functions?</p>
        <pre class="sh_oranj">add10 = adder(10)
io &lt;&lt; add10(7) &lt;&lt; endl # Outputs 17
io &lt;&lt; adder(2)(15) &lt;&lt; endl # Outputs 17</pre>
        <p>Remember that there's nothing really strange
        going on; you&#8217;re just creating a function, which you can
        then assign to a variable or call like any other function. You
        can, of course use this technique to do far more complicated
        things, such as hiding variables where no one can find them (make
        them local variables of some particular function that creates
        other functions with the variables &#8220;embedded&#8221; within)
        or for using software patterns like the singleton.</p>
        <p>On the other hand, don&#8217;t overuse this feature. Every time
        you dynamically create a function, you're using up memory. The
        <code>adder</code> example is usually (though not always &mdash;
        sometimes you need a one-argument function) better written as a
        function of two arguments.</p>
        <h3>Functions of Functions</h3>
        <pre class="sh_oranj">apply_and_print = fn "Apply function to elements of a list" (l, f) {
    for el in l {
        io &lt;&lt; f(el) &lt;&lt; " "
    }

    io &lt;&lt; endl
}</pre>
        <p>There&#8217;s no reason why a function can&#8217;t take another
        function as an argument. After all, what would we do with all of
        the functions we&#8217;ve been making? This example gives the
        basic idea. We can combine making and taking functions, too:</p>
        <pre class="sh_oranj">first_arg = fn "Set first argument of a function" (f, arg) {
    return fn(*args, **kwargs) {
        return f(arg, *args, **kwargs)
    }
}</pre>
        <p>The idea here should be rather simple: we create a new function
        which calls the one we were passed, but inserts in a new argument
        in front. The one possibly confusing thing here is the new syntax.
        Specifying an asterisk before an argument name (which
        <strong>should</strong> be <code>args</code>) makes that argument be a
        list of all other arguments (other as in not already used). Two
        askerists make it a dictionary of all other keyword arguments. This
        lets you create functions with arbitrary numbers of arguments.</p>
      </section>
    </div>
  </body>
</html>